<!DOCTYPE html>
<html lang='en-us'>

    <head>
	<meta name="generator" content="Hugo 0.102.3" />
    <meta charset="utf-8" />
    <meta name="viewport"    content="width=device-width, initial-scale=1.0">
    <meta name="author"      content="" />
    <meta name="description" content="" />

    <title>Developer&#39;s Guide to SBOMs</title><link rel="stylesheet" href="/assets/fonts/SourceSansPro/stylesheet.css" />
<link rel="stylesheet" href="/assets/css/styles.css" />

</head>
    <body>

        <header id="page-header">

    

    <h1 id="page-title">Developer&#39;s Guide to SBOMs</h1>

    </header>




        <main id="page-content">
    
        
    
        <h2 id="introduction">Introduction</h2>
<p>A <strong>Software Bill of Materials (SBOM)</strong> is a manifest which uniquely identifies and enumerates the software dependencies contained within a codebase, build artifact, or runtime container. A dynamic SBOM can further integrate information from vulnerability scanners to help ensure the integrity of your software supply chain.</p>

    

    
        
    
        <h2 id="why-sboms">Why SBOMs?</h2>
<p>Most modern applications are built atop a growing library of open-source and proprietary components; it would be tedious and time-consuming to manually identify each component, evaluate the components&rsquo; dependencies, and determine if those components are then suitable for inclusion in the project.</p>
<p>Instead, automated software assembles the SBOM for each release artifact at some point in the build pipeline, when dependency and build information is readily available.</p>
<p>The SBOM is a mechanism to share build-time component inventories between projects and developers, and it serves as a fundamental tool for managing software supply chain integrity. Without knowing what dependencies are included in a given third-party library, it&rsquo;s impossible to keep vulnerable components away from production. Likewise, without an inventory of the software running on your infrastructure, it&rsquo;s impossible to determine which components are affected after new vulnerabilities are discovered.</p>
<p>Federal agencies (and the White House) are now issuing guidelines intended to increase software supply chain security—through increased software safety and integrity.</p>
<h3 id="what-is-contained-in-a-software-bill-of-materials">What is contained in a Software Bill of Materials?</h3>
<p>Generally speaking, an SBOM is a nested inventory of uniquely-identified dependencies.</p>
<p>From the 
    <span class="link-wrapper">
        <a
            
            href="https://www.ntia.gov/files/ntia/publications/sbom_faq_-_20201116.pdf"
            target="_blank"
        >
            NTIA&rsquo;s SBOM FAQ (pdf)
        </a>
        <img src="/assets/img/icons/external-link-icon.svg" height="12" width="12" />
    </span>
 answer about what should be included in an SBOM:</p>
<blockquote>
<p>An SBOM should contain some combination of the following baseline information: author name, supplier name, component name, version string, component hash, unique identifier, and relationship. Licensing, pedigree, provenance, should also be included, if available.</p>
</blockquote>
<p>When an SBOM is generated by a tool such as Codenotary&rsquo;s <code>cas</code> CLI, the complete inventory of included software components is generated locally—using the dependency trees assembled by build tools and package managers.</p>
<p>Assembled SBOMs can be shared between projects through interchange formats such as 
    <span class="link-wrapper">
        <a
            
            href="https://spdx.dev"
            target="_blank"
        >
            SPDX
        </a>
        <img src="/assets/img/icons/external-link-icon.svg" height="12" width="12" />
    </span>
. That specification provides a common data format for sharing information about the provenance, licenses, and security information associated with a given component.</p>
<p>Other variants of SBOMs have appeared alongside the full SPDX specification, such as SPDX Lite, a subset of the full specification, and CycloneDX, a lightweight standard designed for application security contexts.</p>
<h3 id="how-is-it-used">How is it used?</h3>
<p>Because an SBOM is fundamentally a metadata file meant to inventory components in use, a straightforward use case for these manifests is in determining what software is running where. When new vulnerabilities emerge (e.g. the log4j vulnerability), an inventory of all software components running on your infrastructure enables removal of these threats. When an SBOM is included in a dynamic, searchable SBOM database, developers can quickly find specific dependencies within their production assets.</p>
<p>From a security perspective, SBOMs increase transparency of the software supply chain and allow projects to avoid including dependencies with known vulnerabilities. When build artifacts are scanned for components with known vulnerabilities while in the build pipeline—long before the those vulnerabilities ever reach your production environment—the risk of releasing known-dangerous components is reduced.</p>
<p>When using CAS, notarized assets can be marked as <code>Unsupported</code>, and you configure the <code>cas</code> CLI to exit with an error when those unsupported dependencies are encountered. In addition to the security benefits of notarized SBOMs, uniquely-identified assets being marked as <code>Unsupported</code> helps keep outdated components from being deployed.</p>
<p>Enriched SBOMs like those from Trustcenter track metadata about runtime environments (in addition to component dependencies), such as which Docker images contain a given dependency, providing additional visibility into deployments.</p>

    

    
        
    
        <h2 id="about-codenotarys-community-attestation-service">About Codenotary&rsquo;s Community Attestation Service</h2>
<p>TODO.</p>
<h2 id="using-cas-to-notarize-and-authenticate">Using CAS to Notarize and Authenticate</h2>
<p>TODO: Intro.</p>
<h3 id="cas-cli-quickstart"><code>cas</code> CLI Quickstart</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Get API key from: https://cas.codenotary.com</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Get CAS:</span>
</span></span><span style="display:flex;"><span>https://github.com/codenotary/cas/releases
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Login</span>
</span></span><span style="display:flex;"><span>export CAS_API_KEY<span style="color:#f92672">=</span>YOUR_API_KEY; cas login
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Create and sign a Software Bill of Materials</span>
</span></span><span style="display:flex;"><span>cas notarize --bom docker://ubuntu
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Verify and authenticate assets with signing key</span>
</span></span><span style="display:flex;"><span>cas authenticate --bom docker://ubuntu
</span></span></code></pre></div><h3 id="summary-of-functionality">Summary of Functionality</h3>
<p>TODO: Brief listing of all functionality.</p>
<h3 id="basic-notarization-and-authentication">Basic Notarization and Authentication</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Notarize image</span>
</span></span><span style="display:flex;"><span>cas notarize docker://container_image
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Authenticate image</span>
</span></span><span style="display:flex;"><span>cas authenticate docker://container -SignerID.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Inspect image</span>
</span></span><span style="display:flex;"><span>cas inspect docker://container_image
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Verify image</span>
</span></span><span style="display:flex;"><span>cas authenticate docker://container_image <span style="color:#f92672">&amp;&amp;</span> docker run container_image
</span></span></code></pre></div><h3 id="authenticating-trusted-dependencies">Authenticating Trusted Dependencies</h3>
<p>If we attempt to authenticate a Docker image which has not yet been notarized with out signing key, we receive a warning that the asset hasn&rsquo;t yet been notarized, as well as a listing of the asset&rsquo;s dependencies, their hashes, and their authentication status (<code>Unknown</code>, in this case).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ cas authenticate --bom docker://python:3.9-alpine
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Resolving dependencies...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Authenticating dependencies...
</span></span><span style="display:flex;"><span> 100% |██████████████████████████████████████████████████████| <span style="color:#f92672">(</span>36/36, <span style="color:#ae81ff">59</span> it/s<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.python-rundeps@20220907.231849   b9bddeccfab9c3d7731f6b39360dcf3cfdeb1b7f Unknown
</span></span><span style="display:flex;"><span>alpine-baselayout@3.2.0-r22       3c6c70ccb77b490fd2663506ae7727a638eda4a6 Unknown
</span></span><span style="display:flex;"><span>alpine-baselayout-data@3.2.0-r22  d6554033bbe7f571edc82954fd97e59aa4c7f045 Unknown
</span></span><span style="display:flex;"><span>alpine-keys@2.4-r1                cffd2a49107574ba448f4b23b4bfc597676b9054 Unknown
</span></span><span style="display:flex;"><span>. . .
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Warning: c9b90024bc4d49b1fa0ea4673b6eb1db1058cd1cba4b840d336bedf803a0afcf was not notarized
</span></span></code></pre></div><p>We can then notarize this image, which resolves all dependencies, authenticates them against CAS, and signs the <code>Unknown</code> dependencies, changing the status to <code>Trusted</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ cas notarize --bom docker://python:3.9-alpine
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Resolving dependencies...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Authenticating dependencies...
</span></span><span style="display:flex;"><span> 100% |██████████████████████████████████████████████████████| <span style="color:#f92672">(</span>36/36, <span style="color:#ae81ff">58</span> it/s<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Notarizing <span style="color:#ae81ff">36</span> dependencies ...
</span></span><span style="display:flex;"><span> 100% |██████████████████████████████████████████████████████| <span style="color:#f92672">(</span>36/36, <span style="color:#ae81ff">39</span> it/s<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.python-rundeps@20220907.231849   b9bddeccfab9c3d7731f6b39360dcf3cfdeb1b7f Trusted
</span></span><span style="display:flex;"><span>alpine-baselayout@3.2.0-r22       3c6c70ccb77b490fd2663506ae7727a638eda4a6 Trusted
</span></span><span style="display:flex;"><span>alpine-baselayout-data@3.2.0-r22  d6554033bbe7f571edc82954fd97e59aa4c7f045 Trusted
</span></span><span style="display:flex;"><span>. . .
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Your assets will not be uploaded. They will be processed locally.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Kind:   docker
</span></span><span style="display:flex;"><span>Name:   docker://python:3.9-alpine
</span></span><span style="display:flex;"><span>Hash:   c9b90024bc4d49b1fa0ea4673b6eb1db1058cd1cba4b840d336bedf803a0afcf
</span></span><span style="display:flex;"><span>Metadata: architecture<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;arm64&#34;</span>
</span></span><span style="display:flex;"><span>    docker<span style="color:#f92672">={</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;Architecture&#34;</span>: <span style="color:#e6db74">&#34;arm64&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;Created&#34;</span>: <span style="color:#e6db74">&#34;2022-09-07T23:19:03.452996827Z&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;DockerVersion&#34;</span>: <span style="color:#e6db74">&#34;20.10.12&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;Id&#34;</span>: <span style="color:#e6db74">&#34;sha256:c9b90024bc4d49b1fa0ea4673b6eb1db1058cd1cba4b840d336bedf803a0afcf&#34;</span>,
</span></span><span style="display:flex;"><span>        . . .
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    platform<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;linux&#34;</span>
</span></span><span style="display:flex;"><span>    version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;3.9-alpine&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>SignerID: bmlja0Babcdefgh12345<span style="color:#f92672">==</span>
</span></span><span style="display:flex;"><span>Apikey revoked: no
</span></span><span style="display:flex;"><span>Status:   TRUSTED
</span></span><span style="display:flex;"><span>Dependencies:
</span></span><span style="display:flex;"><span>    .python-rundeps@20220907.231849   b9bddeccfab9c3d7731f6b39360dcf3cfdeb1b7f
</span></span><span style="display:flex;"><span>    alpine-baselayout@3.2.0-r22       3c6c70ccb77b490fd2663506ae7727a638eda4a6
</span></span><span style="display:flex;"><span>    alpine-baselayout-data@3.2.0-r22  d6554033bbe7f571edc82954fd97e59aa4c7f045
</span></span><span style="display:flex;"><span>    alpine-keys@2.4-r1                cffd2a49107574ba448f4b23b4bfc597676b9054
</span></span><span style="display:flex;"><span>    apk-tools@2.12.9-r3               bd9d72a8be3f3e5f046759c4e82086b6b7195622
</span></span><span style="display:flex;"><span>    busybox@1.35.0-r17                31ea3e2c718f4a2dee63d808a2e1156fdcfc15ba
</span></span><span style="display:flex;"><span>    . . .
</span></span></code></pre></div><p>Now, if we attempt to authenticate the next version of the image (<code>python:3.10-alpine</code> instead of <code>python:3.9-alpine</code>, we are again warned that the asset has not been notarized. Unlike in the previous <code>cas authenticate</code> example, however, all but one of the resolved dependences is already marked as <code>Trusted</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ cas authenticate --bom docker://python:3.10-alpine
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Resolving dependencies...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Authenticating dependencies...
</span></span><span style="display:flex;"><span> 100% |██████████████████████████████████████████████████████| <span style="color:#f92672">(</span>36/36, <span style="color:#ae81ff">17</span> it/s<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.python-rundeps@20220907.223701   f3105e48f2a5caae5d0d2b6cbba5468a06a111c2 Unknown
</span></span><span style="display:flex;"><span>alpine-baselayout@3.2.0-r22       3c6c70ccb77b490fd2663506ae7727a638eda4a6 Trusted
</span></span><span style="display:flex;"><span>alpine-baselayout-data@3.2.0-r22  d6554033bbe7f571edc82954fd97e59aa4c7f045 Trusted
</span></span><span style="display:flex;"><span>alpine-keys@2.4-r1                cffd2a49107574ba448f4b23b4bfc597676b9054 Trusted
</span></span><span style="display:flex;"><span>apk-tools@2.12.9-r3               bd9d72a8be3f3e5f046759c4e82086b6b7195622 Trusted
</span></span><span style="display:flex;"><span>busybox@1.35.0-r17                31ea3e2c718f4a2dee63d808a2e1156fdcfc15ba Trusted
</span></span><span style="display:flex;"><span>. . .
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Warning: 85e5afa95f3f0b68ffc12ae1f57557dc2115bb822c9e9ff0278 was not notarized
</span></span></code></pre></div><p>After <code>cas authenticate</code> resolves the container&rsquo;s dependencies (using Alpine&rsquo;s package manager to enumerate installed packages), it attempts to authenticate those dependencies using the current signing key. Because the underlying image containing the operating system is the same for both <code>python:3.9-alpine</code> and <code>python:3.10-alpine</code>, the only detected difference is the Python installation.</p>
<p>As you can see, not only does CAS help keep <code>Untrusted</code> software out of your production environment, but it can also reduce the burden of assessing dependency changes by indicating which have already been trusted.</p>
<h3 id="notarizing-container-images">Notarizing container images</h3>
<p>TODO.</p>
<h3 id="notarizing-source-code">Notarizing source code</h3>
<p>TODO.</p>




<div class="tabs-container" id="notarize-source-code">
    <div class="tablist" role="tablist">
        
            <a 
                role="tab" 
                class="tab  active " 
                id="notarize-source-code-tab-1" 
                href="#notarize-source-code-tabpane-1"
            >
                Python
            </a>
        
            <a 
                role="tab" 
                class="tab " 
                id="notarize-source-code-tab-2" 
                href="#notarize-source-code-tabpane-2"
            >
                Go
            </a>
        
            <a 
                role="tab" 
                class="tab " 
                id="notarize-source-code-tab-3" 
                href="#notarize-source-code-tabpane-3"
            >
                Java
            </a>
        
            <a 
                role="tab" 
                class="tab " 
                id="notarize-source-code-tab-4" 
                href="#notarize-source-code-tabpane-4"
            >
                Node
            </a>
        
            <a 
                role="tab" 
                class="tab " 
                id="notarize-source-code-tab-5" 
                href="#notarize-source-code-tabpane-5"
            >
                .net
            </a>
        
            <a 
                role="tab" 
                class="tab " 
                id="notarize-source-code-tab-6" 
                href="#notarize-source-code-tabpane-6"
            >
                PHP
            </a>
        
            <a 
                role="tab" 
                class="tab " 
                id="notarize-source-code-tab-7" 
                href="#notarize-source-code-tabpane-7"
            >
                Rust
            </a>
        
    </div>

    

  










<div
    
    aria-labelledby="notarize-source-code-tab-1"
    role="tabpanel"
    class="tabpanel "
    id="notarize-source-code-tabpane-1"
>
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Python" data-lang="Python"><span style="display:flex;"><span>python examples here
</span></span></code></pre></div>
</div>

  










<div
     aria-hidden="true" 
    aria-labelledby="notarize-source-code-tab-2"
    role="tabpanel"
    class="tabpanel  hidden "
    id="notarize-source-code-tabpane-2"
>
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Go" data-lang="Go"><span style="display:flex;"><span><span style="color:#66d9ef">go</span> <span style="color:#a6e22e">example</span> <span style="color:#a6e22e">here</span>
</span></span></code></pre></div>
</div>

  










<div
     aria-hidden="true" 
    aria-labelledby="notarize-source-code-tab-3"
    role="tabpanel"
    class="tabpanel  hidden "
    id="notarize-source-code-tabpane-3"
>
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>Java example here
</span></span></code></pre></div>
</div>

  










<div
     aria-hidden="true" 
    aria-labelledby="notarize-source-code-tab-4"
    role="tabpanel"
    class="tabpanel  hidden "
    id="notarize-source-code-tabpane-4"
>
    <pre tabindex="0"><code class="language-Node" data-lang="Node">Node example here
</code></pre>
</div>

  










<div
     aria-hidden="true" 
    aria-labelledby="notarize-source-code-tab-5"
    role="tabpanel"
    class="tabpanel  hidden "
    id="notarize-source-code-tabpane-5"
>
    <pre tabindex="0"><code class="language-net" data-lang="net">.net example here
</code></pre>
</div>

  










<div
     aria-hidden="true" 
    aria-labelledby="notarize-source-code-tab-6"
    role="tabpanel"
    class="tabpanel  hidden "
    id="notarize-source-code-tabpane-6"
>
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-PHP" data-lang="PHP"><span style="display:flex;"><span><span style="color:#a6e22e">PHP</span> <span style="color:#a6e22e">example</span> <span style="color:#a6e22e">here</span>
</span></span></code></pre></div>
</div>

  










<div
     aria-hidden="true" 
    aria-labelledby="notarize-source-code-tab-7"
    role="tabpanel"
    class="tabpanel  hidden "
    id="notarize-source-code-tabpane-7"
>
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Rust" data-lang="Rust"><span style="display:flex;"><span>Rust example here
</span></span></code></pre></div>
</div>


</div>
<h3 id="notarizing-packages">Notarizing packages</h3>
<p>TODO.</p>

    

    
        
    
        <h2 id="working-with-other-tools">Working with other tools</h2>
<h3 id="import-from-spfx-and-cyclonedx">Import from spfx and cyclonedx</h3>
<p>TODO.</p>
<h3 id="export-to-spfx-or-cyclonedx">Export to spfx or cyclonedx</h3>
<p>TODO.</p>

    

    
        
    
        <h2 id="sboms-using-trustcenter">SBOMs using Trustcenter</h2>
<p>TODO.</p>
<h3 id="searching-with-trustcenter">Searching with Trustcenter</h3>
<p>TODO.</p>

    

    

        </main>

<script src="/assets/js/uwe-uwe.js" type="text/javascript"></script>
<script type="text/javascript">
    UWE_UWE.FOOTNOTES.init();
    UWE_UWE.TABS.init();
</script></body>
</html>
