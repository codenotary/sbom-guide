<!DOCTYPE html>
<html lang='en-us'>

    <head>
	<meta name="generator" content="Hugo 0.102.3" />
    <meta charset="utf-8" />
    <meta name="viewport"    content="width=device-width, initial-scale=1.0">
    <meta name="author"      content="" />
    <meta name="description" content="" />

    <title>Developer&#39;s Guide to SBOMs</title><link rel="stylesheet" href="/sbom-guide/assets/fonts/SourceSansPro/stylesheet.css" />
<link rel="stylesheet" href="/sbom-guide/assets/css/styles.css" />

</head>
    <body>

        <header id="page-header">

    

    <h1 id="page-title">Developer&#39;s Guide to SBOMs</h1>

    </header>




        <main id="page-content">
    
        
    
        <h2 id="introduction">Introduction</h2>
<p>A <strong>Software Bill of Materials (SBOM)</strong> is a manifest which uniquely identifies and enumerates the software dependencies contained within a codebase, build artifact, or runtime container. A dynamic SBOM can further integrate information from vulnerability scanners to help ensure the integrity of your software supply chain.</p>

    

    
        
    
        <h2 id="why-sboms">Why SBOMs?</h2>
<p>Most modern applications are built atop a growing library of open-source and proprietary components; it would be tedious and time-consuming to manually identify each component, evaluate the components&rsquo; dependencies, and determine if those components are then suitable for inclusion in the project.</p>
<p>Instead, automated software assembles the SBOM for each release artifact at some point in the build pipeline, when dependency and build information is readily available.</p>
<p>The SBOM is a mechanism to share build-time component inventories between projects and developers, and it serves as a fundamental tool for managing software supply chain integrity. Without knowing what dependencies are included in a given third-party library, it&rsquo;s impossible to keep vulnerable components away from production. Likewise, without an inventory of the software running on your infrastructure, it&rsquo;s impossible to determine which components are affected after new vulnerabilities are discovered.</p>
<p>Federal agencies (and the White House) are now issuing guidelines intended to increase software supply chain security—through increased software safety and integrity.</p>
<h3 id="what-is-contained-in-a-software-bill-of-materials">What is contained in a Software Bill of Materials?</h3>
<p>Generally speaking, an SBOM is a nested inventory of uniquely-identified dependencies.</p>
<p>From the 
    <span class="link-wrapper">
        <a
            
            href="https://www.ntia.gov/files/ntia/publications/sbom_faq_-_20201116.pdf"
            target="_blank"
        >
            NTIA&rsquo;s SBOM FAQ (pdf)
        </a>
        <img src="/assets/img/icons/external-link-icon.svg" height="12" width="12" />
    </span>
 answer about what should be included in an SBOM:</p>
<blockquote>
<p>An SBOM should contain some combination of the following baseline information: author name, supplier name, component name, version string, component hash, unique identifier, and relationship. Licensing, pedigree, provenance, should also be included, if available.</p>
</blockquote>
<p>When an SBOM is generated by a tool such as Codenotary&rsquo;s <code>cas</code> CLI, the complete inventory of included software components is generated locally—using the dependency trees assembled by build tools and package managers.</p>
<p>Assembled SBOMs can be shared between projects through interchange formats such as 
    <span class="link-wrapper">
        <a
            
            href="https://spdx.dev"
            target="_blank"
        >
            SPDX
        </a>
        <img src="/assets/img/icons/external-link-icon.svg" height="12" width="12" />
    </span>
. That specification provides a common data format for sharing information about the provenance, licenses, and security information associated with a given component.</p>
<p>Other variants of SBOMs have appeared alongside the full SPDX specification, such as SPDX Lite, a subset of the full specification, and CycloneDX, a lightweight standard designed for application security contexts.</p>
<h3 id="how-is-it-used">How is it used?</h3>
<p>Because an SBOM is fundamentally a metadata file meant to inventory components in use, a straightforward use case for these manifests is in determining what software is running where. When new vulnerabilities emerge (e.g. the log4j vulnerability), an inventory of all software components running on your infrastructure enables removal of these threats. When an SBOM is included in a dynamic, searchable SBOM database, developers can quickly find specific dependencies within their production assets.</p>
<p>From a security perspective, SBOMs increase transparency of the software supply chain and allow projects to avoid including dependencies with known vulnerabilities. When build artifacts are scanned for components with known vulnerabilities while in the build pipeline—long before the those vulnerabilities ever reach your production environment—the risk of releasing known-dangerous components is reduced.</p>
<p>When using CAS, notarized assets can be marked as <code>Unsupported</code>, and you configure the <code>cas</code> CLI to exit with an error when those unsupported dependencies are encountered. In addition to the security benefits of notarized SBOMs, uniquely-identified assets being marked as <code>Unsupported</code> helps keep outdated components from being deployed.</p>
<p>Enriched SBOMs like those from Trustcenter track metadata about runtime environments (in addition to component dependencies), such as which Docker images contain a given dependency, providing additional visibility into deployments.</p>

    

    
        
    
        
        
            
    
        <h2 id="specifying-assets-in-vcn-commands">Specifying Assets in <code>vcn</code> Commands</h2>
<p>Throughout this documentation, you&rsquo;ll see the placeholder <code>&lt;artifact&gt;</code> used to refer to an asset that you want to authenticate or notarize. For example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn authenticate &lt;artifact&gt;
</span></span></code></pre></div><p>The asset referred to by the <code>&lt;artifact&gt;</code> placeholder can be a file, directory, image, or git repository. The following are examples of how to specify an asset, where <code>COMMAND</code> is a placeholder for any <code>vcn</code> command that accepts an asset as an argument:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn COMMAND &lt;file&gt;
</span></span><span style="display:flex;"><span>vcn COMMAND dir://&lt;directory&gt;
</span></span><span style="display:flex;"><span>vcn COMMAND image://&lt;imageId&gt;
</span></span><span style="display:flex;"><span>vcn COMMAND docker://&lt;imageId&gt; // deprecated, please use image
</span></span><span style="display:flex;"><span>vcn COMMAND podman://&lt;imageId&gt;
</span></span><span style="display:flex;"><span>vcn COMMAND git://&lt;path_to_git_repo&gt;
</span></span><span style="display:flex;"><span>vcn COMMAND --hash &lt;hash&gt;
</span></span></code></pre></div><p>These docs will only use the <code>&lt;artifact&gt;</code> placeholder in examples, but the actual commands you run should specify the appropriate asset type based on one of the templates defined above.</p>
<h2 id="using-the-vcn-cli">Using the <code>vcn</code> CLI</h2>
<p>To begin using the <code>vcn</code> CLI, you must first log in with your credentials for Codenotary Trustcenter. After you generate an API key in Trustcenter, you can log in with the <code>vcn login</code> command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn login --lc-host example.com
</span></span></code></pre></div><p>If you are using <code>vcn</code> in a script, you can set the API key in the <code>VCN_LC_API_KEY</code> environment variable, and then run the <code>vcn login</code> command without the <code>--lc-host</code> flag:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>export VCN_LC_API_KEY<span style="color:#f92672">=</span>&lt;API_KEY&gt;
</span></span><span style="display:flex;"><span>export VCN_LC_HOST<span style="color:#f92672">=</span>&lt;TRUSTCENTER_DOMAIN&gt;
</span></span><span style="display:flex;"><span>export VCN_LC_PORT<span style="color:#f92672">=</span><span style="color:#ae81ff">443</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>vcn login
</span></span></code></pre></div><p>You can also specify the API key in an environment variable prefixed to the <code>vcn login</code> command.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>VCN_LC_API_KEY<span style="color:#f92672">=</span>&lt;API_KEY&gt; vcn login --lc-host &lt;TRUSTCENTER_DOMAIN&gt;
</span></span></code></pre></div><p>However, by logging in without your API key present in the appropriate environment variable, the <code>--signerID</code> flag becomes mandatory.</p>

    

        
            
    
        <h2 id="notarize-an-asset-with-vcn">Notarize an asset with <code>vcn</code></h2>
<p>To notarize an asset:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn notarize &lt;artifact&gt;
</span></span></code></pre></div><p>Passing the <code>--bom</code> flag to the <code>vcn notarize</code> command will notarize the asset&rsquo;s dependencies and immutably associate them with the asset in Trustcenter:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn notarize --bom &lt;artifact&gt;
</span></span></code></pre></div><p>If you need to notarize assets in bulk, you can supply a CSV file that enumerates the hash, name, and labels of each asset to the <code>vcn notarize</code> command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn notarize --import-file &lt;csv_file&gt;
</span></span></code></pre></div><p>The contents of your CSV file should follow the format</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hash,name,labels
</span></span></code></pre></div><p>where <code>hash</code> is the hash of the asset, <code>name</code> is the name of the asset, and <code>labels</code> is an optional list of semicolon-separated labels. For example, your CSV file will look something like this:</p>
<pre tabindex="0"><code class="language-csv" data-lang="csv">addf340d683e7dc9be1859f4e9a85f5143d4b21c,libcrypto1.1@1.1.1q-r0,label1;label2
722a653f03c02836b5f6391bc588e28aff86e44b,libssl1.1@1.1.1q-r0,label2
2962576b068d3e220d1df7730a0fc5ac49a201a5,ssl_client@1.35.0-r17,label2;label3
124baa9bfd023f2c0308a11b13086c3c2c3ecfd1,zlib@1.2.12-r3,label1;label3
</code></pre><h2 id="managing-assets-with-labels">Managing assets with labels</h2>
<p>Codenotary Trustcenter can associate labels with your notarized artifacts to provide an additional level of metadata for authentication. Labels can be used to indicate the intended use of an artifact, such as <code>production</code>, <code>staging</code>, or <code>development</code>. Labels can also be used to indicate the type of artifact, such as <code>library</code>, <code>binary</code>, or <code>container</code>.</p>
<p>Labels can be appended to, deleted from, or overwritten on an artifact when the <code>vcn notarize</code> command is run by passing the <code>--labels-add</code>, <code>--labels-del</code>, or <code>--labels-set</code> flags, as illustrated below.</p>
<h3 id="vcn-labeling-example">vcn Labeling Example</h3>
<p>We can begin by notarizing an artifact with the <code>--labels-add</code> flag:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ vcn n image://example --labels-add <span style="color:#e6db74">&#39;label1,label2,label3&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Name:        example
</span></span><span style="display:flex;"><span>Hash:        f34ed96bfd9f329f89ce3977373cef37ce5d0a4ba8c5ed4aebca785d649b9082
</span></span><span style="display:flex;"><span>. . .
</span></span><span style="display:flex;"><span>SignerID:    demo-signer
</span></span><span style="display:flex;"><span>Apikey revoked:    no
</span></span><span style="display:flex;"><span>Status:        TRUSTED
</span></span><span style="display:flex;"><span>Labels:        label1 <span style="color:#f92672">(</span>added<span style="color:#f92672">)</span>, label2 <span style="color:#f92672">(</span>added<span style="color:#f92672">)</span>, label3 <span style="color:#f92672">(</span>added<span style="color:#f92672">)</span>
</span></span></code></pre></div><p>The asset can then be notarized again with the <code>--labels-del</code> flag to remove one of the labels from our signature for the artifact:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ vcn notarize image://example --labels-del <span style="color:#e6db74">&#39;label3&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Name:        example
</span></span><span style="display:flex;"><span>Hash:        f34ed96bfd9f329f89ce3977373cef37ce5d0a4ba8c5ed4aebca785d649b9082
</span></span><span style="display:flex;"><span>. . .
</span></span><span style="display:flex;"><span>Status:        TRUSTED
</span></span><span style="display:flex;"><span>Labels:        label3 <span style="color:#f92672">(</span>removed<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>❯ vcn inspect image://example --labels
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Name:        example
</span></span><span style="display:flex;"><span>Hash:        f34ed96bfd9f329f89ce3977373cef37ce5d0a4ba8c5ed4aebca785d649b9082
</span></span><span style="display:flex;"><span>. . .
</span></span><span style="display:flex;"><span>Status:        TRUSTED
</span></span><span style="display:flex;"><span>Labels:        label1, label2
</span></span></code></pre></div><p>Then, after using the <code>--labels-set</code> flag to overwrite the existing labels on the artifact, we can use the <code>--labels-add</code> flag to append a final label to the artifact:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ vcn notarize image://example --labels-set <span style="color:#e6db74">&#39;label4,label5&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Name:        example
</span></span><span style="display:flex;"><span>Hash:        f34ed96bfd9f329f89ce3977373cef37ce5d0a4ba8c5ed4aebca785d649b9082
</span></span><span style="display:flex;"><span>. . .
</span></span><span style="display:flex;"><span>Status:        TRUSTED
</span></span><span style="display:flex;"><span>Labels:        label4, label5
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ vcn notarize image://example --labels-add <span style="color:#e6db74">&#39;label6&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Name:        example
</span></span><span style="display:flex;"><span>Hash:        f34ed96bfd9f329f89ce3977373cef37ce5d0a4ba8c5ed4aebca785d649b9082
</span></span><span style="display:flex;"><span>. . .
</span></span><span style="display:flex;"><span>Status:        TRUSTED
</span></span><span style="display:flex;"><span>Labels:        label6 <span style="color:#f92672">(</span>added<span style="color:#f92672">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ vcn inspect image://example --labels
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Name:        example
</span></span><span style="display:flex;"><span>Hash:        f34ed96bfd9f329f89ce3977373cef37ce5d0a4ba8c5ed4aebca785d649b9082
</span></span><span style="display:flex;"><span>. . .
</span></span><span style="display:flex;"><span>Status:        TRUSTED
</span></span><span style="display:flex;"><span>Labels:        label4, label5, label6
</span></span></code></pre></div><p>These labels provide an additional layer of metadata, and can be used to alter the results of the <code>vcn authenticate</code> command. For example, if we run the <code>vcn authenticate</code> command with the <code>--label</code> flag, the result will vary depending on the state of the asset&rsquo;s labels:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn inspect &lt;artifact&gt; --label <span style="color:#e6db74">&#39;demo&#39;</span>
</span></span></code></pre></div><ul>
<li>If the artifact was marked <strong>Trusted</strong>, and
<ul>
<li>the label <code>demo</code> is <strong>assigned</strong>, then the status is <code>TRUSTED</code>.</li>
<li>the label <code>demo</code> is <strong>missing</strong>, then the status is <code>UNKNOWN</code>.</li>
</ul>
</li>
<li>If the artifact was marked <strong>Untrusted</strong>/<strong>Unsupported</strong>, and
<ul>
<li>the label <code>demo</code> is <strong>assigned</strong>, then the status is <code>UNTRUSTED</code>/<code>UNSUPPORTED</code> (respectively).</li>
<li>the label <code>demo</code> is <strong>missing</strong>, then the status is <code>UNKNOWN</code>.</li>
</ul>
</li>
</ul>

    

        
            
    
        <h2 id="authenticate-asset-with-vcn">Authenticate asset with <code>vcn</code></h2>
<p>To authenticate an asset with Trustcenter, which verifies the integrity and signature of the asset, use the <code>vcn authenticate</code> command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Usage:
</span></span><span style="display:flex;"><span>  vcn authenticate <span style="color:#f92672">[</span>flags<span style="color:#f92672">]</span> ARG<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Aliases:
</span></span><span style="display:flex;"><span>  authenticate, a, verify, v
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Examples:
</span></span><span style="display:flex;"><span>  vcn authenticate /bin/vcn
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Flags:
</span></span><span style="display:flex;"><span>      --attach string                    authenticate an artifact on a specific attachment label. With this it<span style="color:#e6db74">&#39;s be possible to retrieve the specific attachment with:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                                         vcn a binary1 --attach=vscanner.result:jobid123 --output=attachments
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                                         or to get all attachments for a label:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                                         vcn a binary1 --attach=jobid123 --output=attachments
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --bom                              link asset to its dependencies from BOM
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --bom-batch-size uint              by default BOM dependencies are authenticated/notarized in batches of up to 100 dependencies each. Use this flag to set a different batch size. A value of 0 will disable batching (all dependencies will be authenticated/notarized at once). (default 100)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --bom-cdx-json string              name of the file to output BOM in CycloneDX JSON format
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --bom-cdx-xml string               name of the file to output BOM in CycloneDX XML format
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --bom-deps-only                    authenticate only the dependencies, not the asset
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --bom-diff-base string             hash of the artifact to diff the BOM against
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --bom-max-unsupported float        max number (in %) of unsupported dependencies
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --bom-spdx string                  same as bom-spdx-tv (for backward compatibility)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --bom-spdx-json string             name of the file to output BOM in SPDX JSON format
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --bom-spdx-tv string               name of the file to output BOM in SPDX tag-value format
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --bom-trust-level string           min trust level: untrusted (unt) / unsupported (uns) / unknown (unk) / trusted (t) (default &#34;trusted&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --bom-what-includes                output all assets that use the specified asset
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --enforce-signature-verify         if this flag is provided vcn will disable signature auto trusting when connecting to a new Codenotary Cloud server
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --exit-code int                    override default exit codes in case of success
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --experimental                     allow experimental features
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --force                            if provided when downloading attachments files are silently overwritten
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --github-token string              Github OAuth token for querying BOM Github package details. Either authenticated or not, requests are subject to Github limits
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --hash string                      specify a hash to authenticate, if set no ARG(s) can be used
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  -h, --help                             help for authenticate
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --image-key-file string            [EXPERIMENTAL] Public key for validating container image signature
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --image-registry-password string   container image registry password (i.e. docker.hub password)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --image-registry-user string       container image registry user name (i.e. docker.hub user)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --label string                     label to authenticate against
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --lc-api-key string                Codenotary Cloud server api key
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --lc-cert string                   local or absolute path to a certificate file needed to set up tls connection to a Codenotary Cloud server
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --lc-host string                   if set with host, action will be route to a Codenotary Cloud server
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --lc-ledger string                 Codenotary Cloud ledger. Required when a multi-ledger API key is used.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --lc-no-tls                        allow insecure connections when connecting to a Codenotary Cloud server
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --lc-port string                   port to connect to Codenotary Cloud. Defaults to 80 when --lc-no-tls is provided, 443 otherwise
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --lc-skip-tls-verify               disables tls certificate verification when connecting to a Codenotary Cloud server
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --lc-uid string                    authenticate on a specific artifact uid
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --name string                      asset name to look up
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  -s, --signerID strings                 accept only authentications matching the passed SignerID
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      --signing-pub-key string           specify a public key to verify signature in messages when connected to a Codenotary Cloud server. It&#39;</span>s required a valid ECDSA key content without header and footer. Ex: --signing-pub-key<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;MFkwE...y5i4w==&#34;</span>
</span></span><span style="display:flex;"><span>      --signing-pub-key-file string      specify a public key file path to verify signature in messages when connected to a Codenotary Cloud server. If no public key file is specified but server is signig messages is possible an interactive confirmation of the fingerprint. When confirmed the public key is stored in ~/.vcn-trusted-signing-pub-key file.
</span></span><span style="display:flex;"><span>      --version string                   asset version to look up
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Global Flags:
</span></span><span style="display:flex;"><span>  -o, --output string                output format, one of: --output<span style="color:#f92672">=</span>json|--output<span style="color:#f92672">=</span>yaml|--output<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>|--output<span style="color:#f92672">=</span>no-progress. In Codenotary Cloud authenticate command is possible to specify also --output<span style="color:#f92672">=</span>attachments. It permits to download all items attached to an artifact.
</span></span><span style="display:flex;"><span>      --retry-attempts uint          a number of retries to be made; setting this to zero will disable retries
</span></span><span style="display:flex;"><span>      --retry-initial-backoff uint   initial delay <span style="color:#66d9ef">for</span> exponential backoff, in milliseconds <span style="color:#f92672">(</span>default 1500<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  -S, --silent                       silent mode, don<span style="color:#960050;background-color:#1e0010">&#39;</span>t show progress spinner, but it will still output the result
</span></span><span style="display:flex;"><span>      --vcnpath string               config files <span style="color:#f92672">(</span>default is user home directory<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>      --verbose                      <span style="color:#66d9ef">if</span> true, print additional information
</span></span></code></pre></div><p>Using signerID:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn authenticate --signerID &lt;signerID&gt; &lt;asset&gt;
</span></span></code></pre></div>
    

        
            
    
        <h2 id="add-attachmentments-to-notarization-transaction-with-vcn">Add attachmentments to notarization transaction with <code>vcn</code></h2>
<p>To add attachments containing different types of supporting documentation to a notarization transaction:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn n artifact --attach attachment1:label1 --attach attachment2:label1 --attach attachment3:label2
</span></span></code></pre></div><p>TODO.</p>
<h3 id="resolving-dependencies-with-vcn">Resolving dependencies with <code>vcn</code></h3>
<p>To</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn bom &lt;asset&gt; <span style="color:#f92672">[</span>bom options<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>bom output options<span style="color:#f92672">]</span>
</span></span></code></pre></div><h3 id="authenticating-an-assets-bom-with-vcn">Authenticating an asset&rsquo;s BOM with <code>vcn</code></h3>
<p>To</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn a --bom &lt;asset&gt; <span style="color:#f92672">[</span>bom options<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>bom output options<span style="color:#f92672">]</span>
</span></span></code></pre></div><h3 id="notarizing-an-assets-bom-with-vcn">Notarizing an asset&rsquo;s BOM with <code>vcn</code></h3>
<p>To</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn n --bom &lt;asset&gt; <span style="color:#f92672">[</span>bom options<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>bom output options<span style="color:#f92672">]</span>
</span></span></code></pre></div><h3 id="alternative-output-formats-with-vcn">Alternative output formats with <code>vcn</code></h3>
<p>To work with individual dependencies:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn a|n|ut|us &lt;scheme&gt;://&lt;name&gt;@&lt;version&gt; | --hash &lt;hash&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Alternative flags:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># --bom-spdx</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># --bom-cdx-json</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># --bom-cdx-xml</span>
</span></span></code></pre></div>
    

        
            
    
        <h2 id="looking-up-known-dependencies-with-vcn">Looking up known dependencies with <code>vcn</code></h2>
<p>To</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn a --bom-what-includes <span style="color:#f92672">(</span>&lt;scheme&gt;://&lt;name&gt;@&lt;version&gt; | --hash &lt;hash&gt;<span style="color:#f92672">)</span>
</span></span></code></pre></div><h3 id="container-support-with-vcn">Container support with <code>vcn</code></h3>
<p>To</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn &lt;command&gt; &lt;scheme&gt;://&lt;image_or_container&gt; <span style="color:#f92672">[</span>command options<span style="color:#f92672">]</span>
</span></span></code></pre></div><blockquote>
<p>Supported schemes:</p>
<ul>
<li>docker: Docker image ID or tag, requires running docker deamon container</li>
<li>container: Docker container ID or tag, requires running docker deamon image</li>
<li>image: container image in container registry. URL format: image://[&lt;registry_server&gt;/]image_tag. If &lt;registry_server&gt; is not specified, Docker Hub is used. By default vcn tries to connect to the registry using active Docker session, however users can always override it by using image-registry-user/image-registry-password CLI parameters.</li>
</ul>
</blockquote>
<h3 id="cascade-operations-with-vcn">Cascade operations with <code>vcn</code></h3>
<p>To</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn notarize|untrust|unsupport <span style="color:#f92672">[</span>command options ...<span style="color:#f92672">]</span> --bom-cascade <span style="color:#f92672">[</span>--bom-force<span style="color:#f92672">]</span>
</span></span></code></pre></div>
    

        
            
    
        <h2 id="authenticate-multiple-assets-with-vcn">Authenticate multiple assets with <code>vcn</code></h2>
<p>To</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ls | xargs vcn authenticate
</span></span></code></pre></div><h3 id="authenticate-with-a-specific-signerid-with-vcn">Authenticate with a specific signerID with <code>vcn</code></h3>
<p>To</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn authenticate --signerID identityname docker://hello-world
</span></span></code></pre></div><h3 id="authenticating-trusted-dependencies">Authenticating Trusted Dependencies</h3>
<p>If we attempt to authenticate a Docker image which has not yet been notarized with our signing key, we receive a warning that the asset hasn&rsquo;t yet been notarized:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ vcn authenticate --bom docker://python:3.9-alpine 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Warning: c9b90024bc4d49b1fa0ea4673b6eb1db1058cd1cba4b840d336bedf803a0afcf was not notarized 
</span></span></code></pre></div><p>When we then notarize the image, all of its dependencies are resolved, authenticated with Trustcenter, signed, and marked as <code>Trusted</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ vcn notarize --bom image://python:3.9-alpine
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Your assets will not be uploaded. They will be processed locally.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Notarization in progress...
</span></span><span style="display:flex;"><span>artifact notarized
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Kind:        image
</span></span><span style="display:flex;"><span>Name:        python:3.9-alpine
</span></span><span style="display:flex;"><span>Hash:        dca341b7a3fdbe1aa117f97f55321e60fe54a177d6f58ab3373ece796aca52ef
</span></span><span style="display:flex;"><span>Metadata:    hashtype<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;SHA256&#34;</span>
</span></span><span style="display:flex;"><span>        image<span style="color:#f92672">={</span>
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;Architecture&#34;</span>: <span style="color:#e6db74">&#34;amd64&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;Created&#34;</span>: <span style="color:#e6db74">&#34;2022-09-07 23:29:27.440739972 +0000 UTC&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;DockerVersion&#34;</span>: <span style="color:#e6db74">&#34;20.10.12&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;Id&#34;</span>: <span style="color:#e6db74">&#34;0721d3b351f08b8a337ace23d9e1f99cc9cab25b3459b95359b85054c631a1af&#34;</span>,
</span></span><span style="display:flex;"><span>            . . .
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        platform<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;linux&#34;</span>
</span></span><span style="display:flex;"><span>        architecture<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;amd64&#34;</span>
</span></span><span style="display:flex;"><span>SignerID:    demo-signer
</span></span><span style="display:flex;"><span>Apikey revoked:    no
</span></span><span style="display:flex;"><span>Status:        TRUSTED
</span></span><span style="display:flex;"><span>Dependencies:
</span></span><span style="display:flex;"><span>        busybox@1.35.0-r17                     899f82d8925d0659b628ab403a44a433bcd97a06 TRUSTED
</span></span><span style="display:flex;"><span>        musl@1.2.3-r0                          682bb42e6503a00152397e3db87be4602d566ac4 TRUSTED
</span></span><span style="display:flex;"><span>        alpine-keys@2.4-r1                     1417c88edb049afbaaa0d5e94a15c3726fe68f31 TRUSTED
</span></span><span style="display:flex;"><span>        alpine-baselayout@3.2.0-r22            97afe73342be73255da8d7e0929d7f73a625ce4d TRUSTED
</span></span><span style="display:flex;"><span>        . . .
</span></span><span style="display:flex;"><span>        keyutils-libs@1.6.3-r1                 19eb523e1d62d8b90431763aa3073d30e3283fb2 TRUSTED
</span></span><span style="display:flex;"><span>        libuuid@2.38-r1                        68bd5e9b8fe99566387e2ad7b7a44c8cf0936673 TRUSTED
</span></span><span style="display:flex;"><span>        readline@8.1.2-r0                      f676007339535e21de79acffbe7ae743a1f7168c TRUSTED
</span></span><span style="display:flex;"><span>        .python-rundeps@20220907.232918        2d6f839e7b5f86c10811f4574f044b3b3ad53417 TRUSTED
</span></span></code></pre></div><p>If we then attempt to authenticate the image we just notarized, we can confirm that it is now marked as <code>Trusted</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn authenticate --bom image://python:3.9-alpine
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Kind:        image
</span></span><span style="display:flex;"><span>Name:        python:3.9-alpine
</span></span><span style="display:flex;"><span>Hash:        dca341b7a3fdbe1aa117f97f55321e60fe54a177d6f58ab3373ece796aca52ef
</span></span><span style="display:flex;"><span>Metadata:    architecture<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;amd64&#34;</span>
</span></span><span style="display:flex;"><span>        hashtype<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;SHA256&#34;</span>
</span></span><span style="display:flex;"><span>        image<span style="color:#f92672">={</span>
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;Architecture&#34;</span>: <span style="color:#e6db74">&#34;amd64&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;Created&#34;</span>: <span style="color:#e6db74">&#34;2022-09-07 23:29:27.440739972 +0000 UTC&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;DockerVersion&#34;</span>: <span style="color:#e6db74">&#34;20.10.12&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;Id&#34;</span>: <span style="color:#e6db74">&#34;0721d3b351f08b8a337ace23d9e1f99cc9cab25b3459b95359b85054c631a1af&#34;</span>,
</span></span><span style="display:flex;"><span>            . . .
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        platform<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;linux&#34;</span>
</span></span><span style="display:flex;"><span>SignerID:    demo-signer
</span></span><span style="display:flex;"><span>Apikey revoked:    no
</span></span><span style="display:flex;"><span>Status:        TRUSTED
</span></span><span style="display:flex;"><span>Dependencies:
</span></span><span style="display:flex;"><span>        alpine-baselayout-data@3.2.0-r22       bf84212e37b7916942f03263f997c94e39494525 TRUSTED
</span></span><span style="display:flex;"><span>        musl@1.2.3-r0                          682bb42e6503a00152397e3db87be4602d566ac4 TRUSTED
</span></span><span style="display:flex;"><span>        busybox@1.35.0-r17                     899f82d8925d0659b628ab403a44a433bcd97a06 TRUSTED
</span></span><span style="display:flex;"><span>        alpine-baselayout@3.2.0-r22            97afe73342be73255da8d7e0929d7f73a625ce4d TRUSTED
</span></span><span style="display:flex;"><span>        . . .
</span></span><span style="display:flex;"><span>        keyutils-libs@1.6.3-r1                 19eb523e1d62d8b90431763aa3073d30e3283fb2 TRUSTED
</span></span><span style="display:flex;"><span>        libuuid@2.38-r1                        68bd5e9b8fe99566387e2ad7b7a44c8cf0936673 TRUSTED
</span></span><span style="display:flex;"><span>        readline@8.1.2-r0                      f676007339535e21de79acffbe7ae743a1f7168c TRUSTED
</span></span><span style="display:flex;"><span>        .python-rundeps@20220907.232918        2d6f839e7b5f86c10811f4574f044b3b3ad53417 TRUSTED
</span></span></code></pre></div><p>Let&rsquo;s say there is a hypothetical vulnerability discovered in the package <code>keyutils-libs@1.6.3-r1</code>, and we want to ensure we don&rsquo;t run any containers based on images containing this dependency.</p>
<p>We can take the untrusted dependency&rsquo;s hash and mark it as untrusted:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ vcn untrust --hash 19eb523e1d62d8b90431763aa3073d30e3283fb2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Your assets will not be uploaded. They will be processed locally.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Notarization in progress...
</span></span><span style="display:flex;"><span>artifact notarized
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Name:        keyutils-libs
</span></span><span style="display:flex;"><span>Hash:        19eb523e1d62d8b90431763aa3073d30e3283fb2
</span></span><span style="display:flex;"><span>Metadata:    hashtype<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;SHA1&#34;</span>
</span></span><span style="display:flex;"><span>        license<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;GPL-2.0-or-later LGPL-2.0-or-later&#34;</span>
</span></span><span style="display:flex;"><span>        version<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1.6.3-r1&#34;</span>
</span></span><span style="display:flex;"><span>SignerID:    demo-signer
</span></span><span style="display:flex;"><span>Apikey revoked:    no
</span></span><span style="display:flex;"><span>Status:        UNTRUSTED
</span></span></code></pre></div><p>Now, when we attempt to notarize any assets that contain our known-vulnerable dependency, we will see that the notarization fails:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ vcn notarize --bom image://python:3.10-alpine
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Dependency keyutils-libs@1.6.3-r1 trust level is UNTRUSTED
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Error: some dependencies have insufficient trust level so artifact cannot be notarized. You can override it with --bom-force option
</span></span></code></pre></div><p>Because the <code>keyutils-libs@1.6.3-r1</code> dependency has already been marked as untrusted with our current signing key, any future attempts to notarize an asset containing that dependency will fail.</p>

    

        
    

    
        
    
        <h2 id="working-with-other-tools">Working with other tools</h2>
<h3 id="import-from-spfx-and-cyclonedx">Import from spfx and cyclonedx</h3>
<p>TODO.</p>
<h3 id="export-to-spfx-or-cyclonedx">Export to spfx or cyclonedx</h3>
<p>TODO.</p>

    

    
        
    
        <h2 id="sboms-using-trustcenter">SBOMs using Trustcenter</h2>
<p>TODO.</p>
<h3 id="searching-with-trustcenter">Searching with Trustcenter</h3>
<p>TODO.</p>

    

    

        </main>

<script src="/sbom-guide/assets/js/uwe-uwe.js" type="text/javascript"></script>
<script type="text/javascript">
    UWE_UWE.FOOTNOTES.init();
    UWE_UWE.TABS.init();
</script></body>
</html>
