<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Notarize an asset with vcn # To notarize an asset:
vcn notarize &lt;artifact&gt; Passing the --bom flag to the vcn notarize command will notarize the asset&rsquo;s dependencies and immutably associate them with the asset in Trustcenter:
vcn notarize --bom &lt;artifact&gt; If you need to notarize assets in bulk, you can supply a CSV file that enumerates the hash, name, and labels of each asset to the vcn notarize command:">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Notarizing Assets with Trustcenter" />
<meta property="og:description" content="Notarize an asset with vcn # To notarize an asset:
vcn notarize &lt;artifact&gt; Passing the --bom flag to the vcn notarize command will notarize the asset&rsquo;s dependencies and immutably associate them with the asset in Trustcenter:
vcn notarize --bom &lt;artifact&gt; If you need to notarize assets in bulk, you can supply a CSV file that enumerates the hash, name, and labels of each asset to the vcn notarize command:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://nickanderegg.github.io/sbom-guide/20_vcn_usage/120_notarizing_assets/" /><meta property="article:section" content="20_vcn_usage" />

<meta property="article:modified_time" content="2022-09-19T21:24:18-04:00" />

<title>Notarizing Assets with Trustcenter | Developer&#39;s Guide to SBOMs</title>
<link rel="manifest" href="/sbom-guide/manifest.json">
<link rel="icon" href="/sbom-guide/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/sbom-guide/book.min.c58292d36b18b675680ab9baea2029204537b839ea72f258746ec0f32ce8d6c8.css" integrity="sha256-xYKS02sYtnVoCrm66iApIEU3uDnqcvJYdG7A8yzo1sg=" crossorigin="anonymous">
  <script defer src="/sbom-guide/flexsearch.min.js"></script>
  <script defer src="/sbom-guide/en.search.min.0d3ead4f6ed012cea429df86b1258a1c1471c8fa63eaf5991a7467cbff020c32.js" integrity="sha256-DT6tT27QEs6kKd&#43;GsSWKHBRxyPpj6vWZGnRny/8CDDI=" crossorigin="anonymous"></script>

  <script defer src="/sbom-guide/sw.min.7e5d3d741a2cbe5d2c6c4f16e894e371d828f808c9041b41247360eafd51962a.js" integrity="sha256-fl09dBosvl0sbE8W6JTjcdgo&#43;AjJBBtBJHNg6v1Rlio=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/sbom-guide/"><span>Developer&#39;s Guide to SBOMs</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Using vcn with Trustcenter</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/sbom-guide/20_vcn_usage/110_vcn_intro/" class="">Introduction to VCN</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/sbom-guide/20_vcn_usage/115_vcn_cheatsheet/" class="">vcn Cheatsheet</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/sbom-guide/20_vcn_usage/120_notarizing_assets/" class="active">Notarizing Assets with Trustcenter</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/sbom-guide/20_vcn_usage/130_authenticating_assets/" class="">Authenticating Assets with Trustcenter</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/sbom-guide/20_vcn_usage/140_bom_authentication/" class="">Authenticating SBOMs with Trustcenter</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/sbom-guide/20_vcn_usage/150_dependencies/" class="">Working with Dependencies</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/sbom-guide/20_vcn_usage/160_authenticating_dependencies/" class="">Authenticating Dependencies</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/sbom-guide/20_vcn_usage/190_other_tools/" class="">Working with Other Tools</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Codenotary Trustcenter</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/sbom-guide/30_trustcenter/310_intro/" class="">Intro to Trustcenter</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Community Attestation Service</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/sbom-guide/40_cas/410_intro/" class="">Intro to CAS</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>SBOM Ecosystem</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/sbom-guide/70_ecosystem/cyclonedx/" class="">CycloneDX SBOM</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/sbom-guide/70_ecosystem/cyclonedx/cyclonedx_tools/" class="">Tools</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/sbom-guide/70_ecosystem/spdx/" class="">SPDX SBOM</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/sbom-guide/70_ecosystem/spdx/spdx_tools/" class="">Tools</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Examples &amp; Use Cases</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/sbom-guide/80_examples/vulnerability_search/" class="">Searching for Vulnerabilities</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Reference</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/sbom-guide/90_reference/glossary/" class="">Glossary</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/sbom-guide/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Notarizing Assets with Trustcenter</strong>

  <label for="toc-control">
    
    <img src="/sbom-guide/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#notarize-an-asset-with-vcn">Notarize an asset with <code>vcn</code></a></li>
    <li><a href="#managing-assets-with-labels">Managing assets with labels</a>
      <ul>
        <li><a href="#vcn-labeling-example">vcn Labeling Example</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h2 id="notarize-an-asset-with-vcn">
  Notarize an asset with <code>vcn</code>
  <a class="anchor" href="#notarize-an-asset-with-vcn">#</a>
</h2>
<p>To notarize an asset:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn notarize &lt;artifact&gt;
</span></span></code></pre></div><p>Passing the <code>--bom</code> flag to the <code>vcn notarize</code> command will notarize the asset&rsquo;s dependencies and immutably associate them with the asset in Trustcenter:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn notarize --bom &lt;artifact&gt;
</span></span></code></pre></div><p>If you need to notarize assets in bulk, you can supply a CSV file that enumerates the hash, name, and labels of each asset to the <code>vcn notarize</code> command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn notarize --import-file &lt;csv_file&gt;
</span></span></code></pre></div><p>The contents of your CSV file should follow the format</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hash,name,labels
</span></span></code></pre></div><p>where <code>hash</code> is the hash of the asset, <code>name</code> is the name of the asset, and <code>labels</code> is an optional list of semicolon-separated labels. For example, your CSV file will look something like this:</p>
<pre tabindex="0"><code class="language-csv" data-lang="csv">addf340d683e7dc9be1859f4e9a85f5143d4b21c,libcrypto1.1@1.1.1q-r0,label1;label2
722a653f03c02836b5f6391bc588e28aff86e44b,libssl1.1@1.1.1q-r0,label2
2962576b068d3e220d1df7730a0fc5ac49a201a5,ssl_client@1.35.0-r17,label2;label3
124baa9bfd023f2c0308a11b13086c3c2c3ecfd1,zlib@1.2.12-r3,label1;label3
</code></pre><h2 id="managing-assets-with-labels">
  Managing assets with labels
  <a class="anchor" href="#managing-assets-with-labels">#</a>
</h2>
<p>Codenotary Trustcenter can associate labels with your notarized artifacts to provide an additional level of metadata for authentication. Labels can be used to indicate the intended use of an artifact, such as <code>production</code>, <code>staging</code>, or <code>development</code>. Labels can also be used to indicate the type of artifact, such as <code>library</code>, <code>binary</code>, or <code>container</code>.</p>
<p>Labels can be appended to, deleted from, or overwritten on an artifact when the <code>vcn notarize</code> command is run by passing the <code>--labels-add</code>, <code>--labels-del</code>, or <code>--labels-set</code> flags, as illustrated below.</p>
<h3 id="vcn-labeling-example">
  vcn Labeling Example
  <a class="anchor" href="#vcn-labeling-example">#</a>
</h3>
<p>We can begin by notarizing an artifact with the <code>--labels-add</code> flag:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ vcn n image://example --labels-add <span style="color:#e6db74">&#39;label1,label2,label3&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Name:        example
</span></span><span style="display:flex;"><span>Hash:        f34ed96bfd9f329f89ce3977373cef37ce5d0a4ba8c5ed4aebca785d649b9082
</span></span><span style="display:flex;"><span>. . .
</span></span><span style="display:flex;"><span>SignerID:    demo-signer
</span></span><span style="display:flex;"><span>Apikey revoked:    no
</span></span><span style="display:flex;"><span>Status:        TRUSTED
</span></span><span style="display:flex;"><span>Labels:        label1 <span style="color:#f92672">(</span>added<span style="color:#f92672">)</span>, label2 <span style="color:#f92672">(</span>added<span style="color:#f92672">)</span>, label3 <span style="color:#f92672">(</span>added<span style="color:#f92672">)</span>
</span></span></code></pre></div><p>The asset can then be notarized again with the <code>--labels-del</code> flag to remove one of the labels from our signature for the artifact:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ vcn notarize image://example --labels-del <span style="color:#e6db74">&#39;label3&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Name:        example
</span></span><span style="display:flex;"><span>Hash:        f34ed96bfd9f329f89ce3977373cef37ce5d0a4ba8c5ed4aebca785d649b9082
</span></span><span style="display:flex;"><span>. . .
</span></span><span style="display:flex;"><span>Status:        TRUSTED
</span></span><span style="display:flex;"><span>Labels:        label3 <span style="color:#f92672">(</span>removed<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>❯ vcn inspect image://example --labels
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Name:        example
</span></span><span style="display:flex;"><span>Hash:        f34ed96bfd9f329f89ce3977373cef37ce5d0a4ba8c5ed4aebca785d649b9082
</span></span><span style="display:flex;"><span>. . .
</span></span><span style="display:flex;"><span>Status:        TRUSTED
</span></span><span style="display:flex;"><span>Labels:        label1, label2
</span></span></code></pre></div><p>Then, after using the <code>--labels-set</code> flag to overwrite the existing labels on the artifact, we can use the <code>--labels-add</code> flag to append a final label to the artifact:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ vcn notarize image://example --labels-set <span style="color:#e6db74">&#39;label4,label5&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Name:        example
</span></span><span style="display:flex;"><span>Hash:        f34ed96bfd9f329f89ce3977373cef37ce5d0a4ba8c5ed4aebca785d649b9082
</span></span><span style="display:flex;"><span>. . .
</span></span><span style="display:flex;"><span>Status:        TRUSTED
</span></span><span style="display:flex;"><span>Labels:        label4, label5
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ vcn notarize image://example --labels-add <span style="color:#e6db74">&#39;label6&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Name:        example
</span></span><span style="display:flex;"><span>Hash:        f34ed96bfd9f329f89ce3977373cef37ce5d0a4ba8c5ed4aebca785d649b9082
</span></span><span style="display:flex;"><span>. . .
</span></span><span style="display:flex;"><span>Status:        TRUSTED
</span></span><span style="display:flex;"><span>Labels:        label6 <span style="color:#f92672">(</span>added<span style="color:#f92672">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ vcn inspect image://example --labels
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Name:        example
</span></span><span style="display:flex;"><span>Hash:        f34ed96bfd9f329f89ce3977373cef37ce5d0a4ba8c5ed4aebca785d649b9082
</span></span><span style="display:flex;"><span>. . .
</span></span><span style="display:flex;"><span>Status:        TRUSTED
</span></span><span style="display:flex;"><span>Labels:        label4, label5, label6
</span></span></code></pre></div><p>These labels provide an additional layer of metadata, and can be used to alter the results of the <code>vcn authenticate</code> command. For example, if we run the <code>vcn authenticate</code> command with the <code>--label</code> flag, the result will vary depending on the state of the asset&rsquo;s labels:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vcn inspect &lt;artifact&gt; --label <span style="color:#e6db74">&#39;demo&#39;</span>
</span></span></code></pre></div><ul>
<li>If the artifact was marked <strong>Trusted</strong>, and
<ul>
<li>the label <code>demo</code> is <strong>assigned</strong>, then the status is <code>TRUSTED</code>.</li>
<li>the label <code>demo</code> is <strong>missing</strong>, then the status is <code>UNKNOWN</code>.</li>
</ul>
</li>
<li>If the artifact was marked <strong>Untrusted</strong>/<strong>Unsupported</strong>, and
<ul>
<li>the label <code>demo</code> is <strong>assigned</strong>, then the status is <code>UNTRUSTED</code>/<code>UNSUPPORTED</code> (respectively).</li>
<li>the label <code>demo</code> is <strong>missing</strong>, then the status is <code>UNKNOWN</code>.</li>
</ul>
</li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#notarize-an-asset-with-vcn">Notarize an asset with <code>vcn</code></a></li>
    <li><a href="#managing-assets-with-labels">Managing assets with labels</a>
      <ul>
        <li><a href="#vcn-labeling-example">vcn Labeling Example</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












